<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Hvordan sette opp en Web server</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>#ST17 Kurs</h1>
					<h3>Hvordan sette opp en webserver, fra A til Å</h3>
					<p>
						<small>Laget av <a href="https://kotlarz.no">Kotlarz</a></small>
					</p>
				</section>

				<section id="forutsetninger">
					<h2>Forutsetninger</h2>
                    <p>Generering av SSH nøkler og hvordan de fungerer</p>
                    <p>Forstålelse for hvordan en DNS fungerer</p>
                    <p>Forstålelse for hvordan en HTTP server og SSL sertifikat fungerer</p>
				</section>

				<section id="innhold">
					<h2>Innhold</h2>
                    <p class="fragment">Kjøp av domene og konfigurasjon av DNS (10 min)</p>
                    <p class="fragment">Kjøp og konfigurasjon av en Linux server (30 min)</p>
                    <p class="fragment">Konfigurasjon av web server (20 min)</p>
                    <p class="fragment">Hvordan bruke GitHub pages isteden (5 min)</p>

                    <aside class="notes">
                        <p>Domene: name.com, Cloudflare</p>
                        <p>Linux: kjøp av vps, ssh nøkkel, ssh config, ufw (brannmur)</p>
                        <p>Web: nginx, statiske filter</p>
                    </aside>
				</section>

				<section>
                    <section id="kjop-av-domene-1">
                        <h3>Kjøp av domene (5 min)</h3>
                        <p><img style="padding-top: 50px;" src="assets/name.png"/></p>

                        <aside class="notes">
                            <p>Alternativer: Namecheap, Gandi, Domeneshop</p>
                            <p>Betale for web hosting er tull, mer kontroll hvis du kjører alt selv</p>
                        </aside>
                    </section>

                    <section id="kjop-av-domene-2">
                        <h3>Kjøp av domene 1/5</h3>
                        <p><img style="padding-top: 50px;" src="assets/name_1.png"/></p>
                    </section>

                    <section id="kjop-av-domene-3">
                        <h3>Kjøp av domene 2/5</h3>
                        <p><img style="padding-top: 50px;" src="assets/name_2.png"/></p>
                    </section>

                    <section id="kjop-av-domene-4">
                        <h3>Spar $$$!</h3>
                        <p><img style="width: 40%;" src="assets/retailmenot.png"/></p>
                        <p><img style="width: 80%;" src="assets/retailmenot_name_1.png"/></p>
                        <p><img style="width: 80%;" src="assets/retailmenot_name_2.png"/></p>

                        <aside class="notes">
                            <p>Alternativer: Namecheap, Gandi, Domeneshop</p>
                            <p>Betale for web hosting er tull, mer kontroll hvis du kjører alt selv</p>
                        </aside>
                    </section>

                    <section id="kjop-av-domene-5">
                        <h3>Kjøp av domene 3/5</h3>
                        <p><img style="padding-top: 50px;" src="assets/name_3.png"/></p>
                    </section>

                    <section id="kjop-av-domene-6">
                        <h3>Kjøp av domene 4/5</h3>
                        <p><img style="padding-top: 50px;" src="assets/name_4.png"/></p>
                    </section>

                    <section id="kjop-av-domene-7">
                        <h3>Kjøp av domene 5/5</h3>
                        <p><img style="padding-top: 50px;" src="assets/name_5.png"/></p>
                    </section>

                    <section id="kjop-av-domene-8">
                        <h3>WHOIS informasjon</h3>
                        
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            $ whois st17.live
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Domain Name: st17.live
                            Registry Domain ID: c97c1775ab034213af2a12669def954f-RSIDE
                            Registrar WHOIS Server: name.com/whois_result
                            Registrar URL: http://www.name.com
                            Updated Date: 2017-07-02T13:08:50Z
                            Creation Date: 2017-07-02T13:07:25Z
                            Registry Expiry Date: 2018-07-02T13:07:25Z
                            Registrar: Name.com, inc.
                            Registrar IANA ID: 625
                            Registrar Abuse Contact Email: abuse@name.com
                            Registrar Abuse Contact Phone: 
                            Domain Status: clientTransferProhibited https://icann.org/epp#clientTransferProhibited
                            Domain Status: addPeriod https://icann.org/epp#addPeriod
                            Registry Registrant ID: a679d3f684b54679a9705b390a186400-RSIDE
                            Registrant Name: Whois Agent
                            Registrant Organization: Domain Protection Services, Inc.
                            Registrant Street: PO Box 1769
                            Registrant City: Denver
                            Registrant State/Province: CO
                            Registrant Postal Code: 80201
                            Registrant Country: US
                            Registrant Phone: +1.7208009072
                            Registrant Phone Ext: 
                            Registrant Fax: +1.7209758725
                            Registrant Fax Ext: 
                            Registrant Email: st17.live@protecteddomainservices.com
                            Registry Admin ID: a679d3f684b54679a9705b390a186400-RSIDE
                            Admin Name: Whois Agent
                            Admin Organization: Domain Protection Services, Inc.
                            Admin Street: PO Box 1769
                            Admin City: Denver
                            Admin State/Province: CO
                            Admin Postal Code: 80201
                            Admin Country: US
                            Admin Phone: +1.7208009072
                            Admin Phone Ext: 
                            Admin Fax: +1.7209758725
                            Admin Fax Ext: 
                            Admin Email: st17.live@protecteddomainservices.com
                            Registry Tech ID: a679d3f684b54679a9705b390a186400-RSIDE
                            Tech Name: Whois Agent
                            Tech Organization: Domain Protection Services, Inc.
                            Tech Street: PO Box 1769
                            Tech City: Denver
                            Tech State/Province: CO
                            Tech Postal Code: 80201
                            Tech Country: US
                            Tech Phone: +1.7208009072
                            Tech Phone Ext: 
                            Tech Fax: +1.7209758725
                            Tech Fax Ext: 
                            Tech Email: st17.live@protecteddomainservices.com
                            Name Server: ns2glx.name.com
                            Name Server: ns3cfp.name.com
                            Name Server: ns1qsy.name.com
                            Name Server: ns4htz.name.com
                            DNSSEC: unsigned
                            URL of the ICANN Whois Inaccuracy Complaint Form: https://www.icann.org/wicf/
                            >>> Last update of WHOIS database: 2017-07-02T13:16:39Z <<<

                            For more information on Whois status codes, please visit https://icann.org/epp

                            Terms of Use: Users accessing the Rightside WHOIS service agree to use the data only for lawful purposes, and under no circumstances may this data be used to: Allow, enable, or otherwise support the transmission by e-mail, telephone, or facsimile of mass unsolicited, commercial advertising or solicitations to entities other than the registrar's own existing customers. Enable high volume, automated, electronic processes that send queries or data to the systems of Rightside or any ICANN-accredited registrar, except as reasonably necessary to register domain names or modify existing registrations. When using the Rightside Whois service, please consider the following: The Whois service is not a replacement for standard EPP commands to the SRS service. Whois is not considered authoritative for registered domain objects. The Whois service may be scheduled for downtime during production or OT&E maintenance periods. Queries to the Whois services are throttled. If too many queries are received from a single IP address within a specified time, the service will begin to reject further queries for a period of time to prevent disruption of Whois service access. Abuse of the Whois system through data mining is mitigated by detecting and limiting bulk query access from single sources.
                            ```
                            </script>
                        </p>
                    </section>
                    
                    <section id="kjop-av-domene-9">
                        <h3>WHOIS informasjon #2</h3>
                        
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            $ whois kotlarz.no
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            % Kopibeskyttet, se http://www.norid.no/domenenavnbaser/whois/kopirett.html
                            % Rights restricted by copyright. See http://www.norid.no/domenenavnbaser/whois/kopirett.en.html

                            Domain Information

                            NORID Handle...............: KOT100D-NORID
                            Domain Name................: kotlarz.no
                            Domain Holder Handle.......: MK5533P-NORID
                            Registrar Handle...........: REG657-NORID
                            Tech-c Handle..............: JEM175P-NORID
                            Name Server Handle.........: BETH6H-NORID
                            Name Server Handle.........: RAY12H-NORID

                            Additional information:
                            Created:         2015-09-02
                            Last updated:    2016-08-03

                            NORID Handle...............: MK5533P-NORID
                            Type.......................: person
                            Name.......................: Marius Kotlarz
                            Id Type....................: anonymous_person_identifier
                            Id Number..................: N.PRI.95803764
                            Registrar Handle...........: REG657-NORID
                            Post Address...............: Trollstubben 3C
                            Postal Code................: NO-1535
                            Postal Area................: MOSS
                            Country....................: NO
                            Phone Number...............: +47.95224442
                            Email Address..............: marius.kotlarz@gmail.com

                            Additional information:
                            Created:         2015-09-02
                            Last updated:    2015-09-02
                            ```
                            </script>
                        </p>
                    </section>
				</section>

                <section>
                    <section id="dns-konfigurasjon-1">
                        <h3>Konfigurasjon av DNS (5 min)</h3>
                        <p><img src="assets/cloudflare.svg"/></p>

                        <aside class="notes">
                            <p>Alternativer: DigitalOcean, Route 53</p>
                            <p>Evt. registrar (Name, Namecheap, Domeneshop)</p>
                        </aside>
                    </section>

                    <section id="dns-konfigurasjon-2">
                        <h3>Legge til domene</h3>
                        <p><img src="assets/cloudflare_1.png" /></p>
                    </section>

                    <section id="dns-konfigurasjon-3">
                        <h3>Sette opp DNS records</h3>
                        <p><img style="width: 70%;" src="assets/cloudflare_2.png" /></p>
                    </section>

                    <section id="dns-konfigurasjon-4">
                        <h3>Endre navnetjenere 1/3</h3>
                        <p><img src="assets/cloudflare_3.png" /></p>
                    </section>

                    <section id="dns-konfigurasjon-5">
                        <h3>dig - DNS lookup utility</h3>
                        
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            $ dig @8.8.8.8 st17.live NS
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            ; <<>> DiG 9.10.3-P4-Ubuntu <<>> @8.8.8.8 st17.live NS
                            ; (1 server found)
                            ;; global options: +cmd
                            ;; Got answer:
                            ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 57973
                            ;; flags: qr rd ra; QUERY: 1, ANSWER: 4, AUTHORITY: 0, ADDITIONAL: 1

                            ;; OPT PSEUDOSECTION:
                            ; EDNS: version: 0, flags:; udp: 512
                            ;; QUESTION SECTION:
                            ;st17.live.			IN	NS

                            ;; ANSWER SECTION:
                            st17.live.		299	IN	NS	ns4htz.name.com.
                            st17.live.		299	IN	NS	ns2glx.name.com.
                            st17.live.		299	IN	NS	ns1qsy.name.com.
                            st17.live.		299	IN	NS	ns3cfp.name.com.

                            ;; Query time: 103 msec
                            ;; SERVER: 8.8.8.8#53(8.8.8.8)
                            ;; WHEN: Sun Jul 02 15:34:21 CEST 2017
                            ;; MSG SIZE  rcvd: 130
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="dns-konfigurasjon-6">
                        <h3>Endre navnetjenere 2/3</h3>
                        <p><img src="assets/cloudflare_name_1.png" /></p>
                    </section>

                    <section id="dns-konfigurasjon-7">
                        <h3>Endre navnetjenere 3/3</h3>
                        <p><img src="assets/cloudflare_name_2.png" /></p>
                    </section>

                    <section id="dns-konfigurasjon-8">
                        <h3>dig - DNS lookup utility</h3>
                        
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            $ dig @8.8.8.8 st17.live NS
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            ; <<>> DiG 9.10.3-P4-Ubuntu <<>> @8.8.8.8 st17.live NS
                            ; (1 server found)
                            ;; global options: +cmd
                            ;; Got answer:
                            ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 21303
                            ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1

                            ;; OPT PSEUDOSECTION:
                            ; EDNS: version: 0, flags:; udp: 512
                            ;; QUESTION SECTION:
                            ;st17.live.			IN	NS

                            ;; ANSWER SECTION:
                            st17.live.		86399	IN	NS	lloyd.ns.cloudflare.com.
                            st17.live.		86399	IN	NS	tina.ns.cloudflare.com.

                            ;; Query time: 84 msec
                            ;; SERVER: 8.8.8.8#53(8.8.8.8)
                            ;; WHEN: Sun Jul 02 16:22:37 CEST 2017
                            ;; MSG SIZE  rcvd: 94
                            ```
                            </script>
                        </p>
                    </section>
                </section>

				<section>
                    <section id="kjop-av-server-1">
                        <h3>Kjøp av Linux server (5 min)</h3>
                        <p><img src="assets/digital_ocean.png" /></p>

                        <aside class="notes">
                            <p>Alternativer: Google Cloud, Amazon AWS, Azure, Linode, Vultr, OVH</p>
                            <p>Holdt deg borte fra WordPress</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-2">
                        <h2>Spare $$$</h2>
                        <p><a href="https://education.github.com/pack"><img style="width: 40%;" src="assets/github_pack.png"/></a></p>
                        <p><img style="width: 40%;" src="assets/github_digitalocean.png" /></p>
                        <p><a href="https://www.retailmenot.com/view/name.com"><img style="width: 15%;" src="assets/retailmenot.png"/></a></p>
                        <p><img style="width: 35%;" src="assets/retailmenot_digitalocean.png" /></p>

                        <aside class="notes">
                            <p>GitHub Student pack: https://education.github.com/pack</p>
                            <p>RetailMeNot</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-3">
                        <h3>Sette opp SSH nøkkel</h3>
                        <p><img style="width: 70%;" src="assets/digitalocean_1.png" /></p>
                    </section>

                    <section id="kjop-av-server-4">
                        <h3>Sette opp SSH nøkkel #2</h3>
                        <p><img style="width: 70%;" src="assets/digitalocean_2.png" /></p>
                    </section>

                    <section id="kjop-av-server-5">
                        <h3>Lag en droplet</h3>
                        <p><img style="width: 30%;" src="assets/digitalocean_3.png" /></p>

                        <aside class="notes">
                            <p>Nok minne til en vanlig applikasjon</p>
                            <p>Database = minneforbruk = OOM killer</p>
                            <p>Alltid velg LTS releases for Servere</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-6">
                        <h3>Velg datasenter o.l.</h3>
                        <p><img src="assets/digitalocean_4.png" /></p>

                        <aside class="notes">
                            <p>Privat nettverk hvis du har flere servere hos DO som skal kommunisere</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-7">
                        <h3>Set et hostnavn for serveren</h3>
                        <p><img src="assets/digitalocean_5.png" /></p>

                        <aside class="notes">
                            <p>Følg en navnekonvensjon, i.e. alkohotyper, star wars</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-8">
                        <h3>Noter ned IP-addressene</h3>
                        <p><img src="assets/digitalocean_6.png" /></p>

                        <aside class="notes">
                            <p>Kan være lurt å sette opp en Floating IP (reservere)</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-9">
                        <h3>Pointer-records (PTR Records)</h3>
                        <p><img src="assets/digitalocean_7.png" /></p>

                        <aside class="notes">
                            <p>Reverse DNS</p>
                            <p>Viktig for mail servere</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-10">
                        <h3>nslookup - query Internet name servers interactively</h3>
                        
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            $ nslookup 178.62.214.114
                            ```
                            </script>
                        </p>
                        <p data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Server:		127.0.0.53
                            Address:	127.0.0.53#53

                            Non-authoritative answer:
                            114.214.62.178.in-addr.arpa	name = vodka.st17.live.

                            Authoritative answers can be found from:
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="kjop-av-server-11">
                        <h3>dig - DNS lookup utility</h3>
                        
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            $ dig @8.8.8.8 -x 178.62.214.114
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            ; <<>> DiG 9.10.3-P4-Ubuntu <<>> @8.8.8.8 -x 178.62.214.114
                            ; (1 server found)
                            ;; global options: +cmd
                            ;; Got answer:
                            ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 40824
                            ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

                            ;; OPT PSEUDOSECTION:
                            ; EDNS: version: 0, flags:; udp: 512
                            ;; QUESTION SECTION:
                            ;114.214.62.178.in-addr.arpa.	IN	PTR

                            ;; ANSWER SECTION:
                            114.214.62.178.in-addr.arpa. 1799 IN	PTR	vodka.st17.live.

                            ;; Query time: 194 msec
                            ;; SERVER: 8.8.8.8#53(8.8.8.8)
                            ;; WHEN: Sun Jul 02 16:21:48 CEST 2017
                            ;; MSG SIZE  rcvd: 85
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="kjop-av-server-12">
                        <h4>Konfigurer DNS med de nye IP-addressene 1/2</h4>
                        <p><img style="width: 80%;" src="assets/cloudflare_2.png" /></p>
                    </section>

                    <section id="kjop-av-server-13">
                        <h4>Konfigurer DNS med de nye IP-addressene 2/2</h4>
                        <p><img style="width: 80%;" src="assets/digitalocean_cloudflare_1.png" /></p>

                        <aside class="notes">
                            <p>Fjerne wildcard (*)</p>
                            <p>Viktig å skjule original IP</p>
                        </aside>
                    </section>

                    <section id="kjop-av-server-14">
                        <h3>DNS Data - BIND Format</h3>
                        
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            $ORIGIN .
                            @	3600	IN	SOA	st17.live.	root.st17.live.	(
                                    2025067163	; serial
                                    7200		; refresh
                                    3600		; retry
                                    86400		; expire
                                    3600)		; minimum



                            ;; NS Records
                            st17.live.	300	IN	NS	lloyd.ns.cloudflare.com.
                            st17.live.	300	IN	NS	tina.ns.cloudflare.com.

                            ;; CNAME Records
                            www.st17.live.	300	IN	CNAME	st17.live.

                            ;; A Records (IPv4 addresses)
                            vodka.st17.live.	300	IN	A	178.62.214.114
                            st17.live.	300	IN	A	178.62.214.114

                            ;; AAAA Records (IPv6 addresses)
                            vodka.st17.live.	300	IN	AAAA	2a03:b0c0:2:d0::28e0:d001
                            st17.live.	300	IN	AAAA	2a03:b0c0:2:d0::28e0:d001
                            ```
                            </script>
                        </p>
                    </section>
				</section>

                <section>
                    <section id="linux-server-konfigurasjon-1">
                        <h4>Konfigurasjon av Linux Server (20 min)</h4>
                        <p><img style="width: 60%;" src="assets/ubuntu.png"/></p>
                        <ol>
                            <li>Lag en SSH config</li>
                            <li>Oppdater serveren</li>
                            <li>Lag en personlig bruker</li>
                            <li>Legg til brukeren i sudoers</li>
                            <li>Slå av SSH root og passord pålogging</li>
                            <li>Sett opp brannmur</li>
                        </ol>
                        <aside class="notes">
                            <p>Alternativer: Debian, CentOS (RedHat)</p>
                        </aside>
                    </section>

                    <section id="linux-server-konfigurasjon-2">
                        <h3>1. Sett opp SSH config på din egen maskin</h3>

                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~# nano ~/.ssh/config
                            ```
                            </script>
                        </p>

                        <p data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Host st17_vodka
                                Hostname vodka.st17.live
                                User Ubuntu
                                IdentityFile ~/.ssh/id_rsa 
                                LocalForward 9000 127.0.0.1:80
                            ```
                            </script>
                        </p>
                        
                        <p data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~# chmod 0600 ~/.ssh/config
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-3">
                        <h3>Logg inn med SSH</h3>

                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~# ssh st17_vodka
                            ```
                            </script>
                        </p>

                        <p style="font-size: 30px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            The authenticity of host 'vodka.st17.live (178.62.214.114)' can't be established.
                            ECDSA key fingerprint is SHA256:DZWaS+kWBEl8G6+6n8JI/5bngkWIBMZvxieIMWK9aO8.
                            Are you sure you want to continue connecting (yes/no)? yes
                            ```
                            </script>
                        </p>

                        <p style="font-size: 25px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Welcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-81-generic x86_64)

                            * Documentation:  https://help.ubuntu.com
                            * Management:     https://landscape.canonical.com
                            * Support:        https://ubuntu.com/advantage

                            Get cloud support with Ubuntu Advantage Cloud Guest:
                                http://www.ubuntu.com/business/services/cloud

                            0 packages can be updated.
                            0 updates are security updates.



                            The programs included with the Ubuntu system are free software;
                            the exact distribution terms for each program are described in the
                            individual files in /usr/share/doc/*/copyright.

                            Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
                            applicable law.

                            root@vodka:~#
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-4">
                        <h3>2. Oppdater pakker</h3>

                        <p data-markdown>
                            <script type="text/template">
                            ```
                            root@vodka:~# apt update && apt upgrade
                            ```
                            </script>
                        </p>

                        <p style="font-size: 20px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Hit:1 http://mirrors.digitalocean.com/ubuntu xenial InRelease
                            Get:2 http://mirrors.digitalocean.com/ubuntu xenial-updates InRelease [102 kB]
                            Get:3 http://mirrors.digitalocean.com/ubuntu xenial-backports InRelease [102 kB]
                            Get:4 http://security.ubuntu.com/ubuntu xenial-security InRelease [102 kB]
                            Get:5 http://mirrors.digitalocean.com/ubuntu xenial/main Sources [868 kB]
                            Get:6 http://mirrors.digitalocean.com/ubuntu xenial/restricted Sources [4808 B]
                            Get:7 http://mirrors.digitalocean.com/ubuntu xenial/universe Sources [7728 kB]
                            Get:8 http://mirrors.digitalocean.com/ubuntu xenial/multiverse Sources [179 kB]   
                            Get:9 http://mirrors.digitalocean.com/ubuntu xenial/universe amd64 Packages [7532 kB]
                            Get:10 http://mirrors.digitalocean.com/ubuntu xenial/universe Translation-en [4354 kB]
                            Get:11 http://mirrors.digitalocean.com/ubuntu xenial/multiverse amd64 Packages [144 kB]
                            Get:12 http://mirrors.digitalocean.com/ubuntu xenial/multiverse Translation-en [106 kB]
                            Get:13 http://mirrors.digitalocean.com/ubuntu xenial-updates/main Sources [257 kB]  
                            Get:14 http://mirrors.digitalocean.com/ubuntu xenial-updates/restricted Sources [3000 B]
                            Get:15 http://mirrors.digitalocean.com/ubuntu xenial-updates/universe Sources [162 kB]
                            Get:16 http://mirrors.digitalocean.com/ubuntu xenial-updates/multiverse Sources [5668 B]
                            Get:17 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 Packages [572 kB]
                            Get:18 http://mirrors.digitalocean.com/ubuntu xenial-updates/main Translation-en [231 kB]
                            Get:19 http://security.ubuntu.com/ubuntu xenial-security/main Sources [77.8 kB]  
                            Get:20 http://mirrors.digitalocean.com/ubuntu xenial-updates/universe amd64 Packages [490 kB]   
                            Get:21 http://security.ubuntu.com/ubuntu xenial-security/restricted Sources [2604 B]      
                            Get:22 http://mirrors.digitalocean.com/ubuntu xenial-updates/universe Translation-en [194 kB]
                            Get:23 http://security.ubuntu.com/ubuntu xenial-security/universe Sources [35.0 kB]   
                            Get:24 http://security.ubuntu.com/ubuntu xenial-security/multiverse Sources [1144 B]  
                            Get:25 http://mirrors.digitalocean.com/ubuntu xenial-updates/multiverse amd64 Packages [8932 B]
                            Get:26 http://mirrors.digitalocean.com/ubuntu xenial-updates/multiverse Translation-en [4460 B]
                            Get:27 http://mirrors.digitalocean.com/ubuntu xenial-backports/main Sources [3308 B]
                            Get:28 http://mirrors.digitalocean.com/ubuntu xenial-backports/universe Sources [4384 B]
                            Get:29 http://mirrors.digitalocean.com/ubuntu xenial-backports/main amd64 Packages [4688 B]
                            Get:30 http://mirrors.digitalocean.com/ubuntu xenial-backports/main Translation-en [3216 B]
                            Get:31 http://security.ubuntu.com/ubuntu xenial-security/main amd64 Packages [297 kB]
                            Get:32 http://mirrors.digitalocean.com/ubuntu xenial-backports/universe amd64 Packages [5804 B]
                            Get:33 http://mirrors.digitalocean.com/ubuntu xenial-backports/universe Translation-en [3004 B]
                            Get:34 http://security.ubuntu.com/ubuntu xenial-security/main Translation-en [127 kB]      
                            Get:35 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages [140 kB]
                            Get:36 http://security.ubuntu.com/ubuntu xenial-security/universe Translation-en [72.8 kB]
                            Get:37 http://security.ubuntu.com/ubuntu xenial-security/multiverse amd64 Packages [2748 B]
                            Get:38 http://security.ubuntu.com/ubuntu xenial-security/multiverse Translation-en [1232 B]
                            Fetched 17.1 MB in 6s (2657 kB/s)                                                                                                                                                                                  
                            Reading package lists... Done
                            Building dependency tree       
                            Reading state information... Done
                            31 packages can be upgraded. Run 'apt list --upgradable' to see them.
                            Reading package lists... Done
                            Building dependency tree       
                            Reading state information... Done
                            Calculating upgrade... Done
                            The following NEW packages will be installed:
                            linux-headers-4.4.0-83 linux-headers-4.4.0-83-generic linux-image-4.4.0-83-generic
                            The following packages have been kept back:
                            cloud-init
                            The following packages will be upgraded:
                            bind9-host bsdutils btrfs-tools dnsutils grub-legacy-ec2 less libbind9-140 libblkid1 libdns-export162 libdns162 libfdisk1 libisc-export160 libisc160 libisccc140 libisccfg140 liblwres141 liblxc1 libmount1
                            libsmartcols1 libuuid1 linux-headers-generic linux-headers-virtual linux-image-virtual linux-virtual lxc-common lxd lxd-client mount util-linux uuid-runtime
                            30 upgraded, 3 newly installed, 0 to remove and 1 not upgraded.
                            Need to get 42.5 MB of archives.
                            After this operation, 145 MB of additional disk space will be used.
                            Do you want to continue? [Y/n] Y
                            Get:1 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 bsdutils amd64 1:2.27.1-6ubuntu3.3 [52.0 kB]
                            Get:2 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 util-linux amd64 2.27.1-6ubuntu3.3 [849 kB]
                            Get:3 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 mount amd64 2.27.1-6ubuntu3.3 [121 kB]
                            Get:4 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 uuid-runtime amd64 2.27.1-6ubuntu3.3 [26.6 kB]
                            Get:5 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 liblxc1 amd64 2.0.8-0ubuntu1~16.04.2 [215 kB]
                            Get:6 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 lxc-common amd64 2.0.8-0ubuntu1~16.04.2 [28.8 kB]
                            Get:7 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 lxd amd64 2.0.10-0ubuntu1~16.04.1 [3432 kB]
                            Get:8 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 lxd-client amd64 2.0.10-0ubuntu1~16.04.1 [1856 kB]
                            Get:9 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libuuid1 amd64 2.27.1-6ubuntu3.3 [15.7 kB]
                            Get:10 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libblkid1 amd64 2.27.1-6ubuntu3.3 [107 kB]
                            Get:11 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libfdisk1 amd64 2.27.1-6ubuntu3.3 [138 kB]
                            Get:12 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libmount1 amd64 2.27.1-6ubuntu3.3 [114 kB]
                            Get:13 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libsmartcols1 amd64 2.27.1-6ubuntu3.3 [63.4 kB]
                            Get:14 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 less amd64 481-2.1ubuntu0.2 [110 kB]
                            Get:15 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libisc-export160 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [153 kB]
                            Get:16 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libdns-export162 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [667 kB]
                            Get:17 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 bind9-host amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [38.4 kB]
                            Get:18 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 dnsutils amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [88.8 kB]
                            Get:19 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libisc160 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [215 kB]
                            Get:20 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libdns162 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [880 kB]
                            Get:21 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libisccc140 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [16.3 kB]
                            Get:22 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libisccfg140 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [40.5 kB]
                            Get:23 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 liblwres141 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [33.7 kB]
                            Get:24 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 libbind9-140 amd64 1:9.10.3.dfsg.P4-8ubuntu1.7 [23.6 kB]
                            Get:25 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 btrfs-tools amd64 4.4-1ubuntu1 [523 kB]
                            Get:26 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 linux-headers-4.4.0-83 all 4.4.0-83.106 [9974 kB]
                            Get:27 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 linux-headers-4.4.0-83-generic amd64 4.4.0-83.106 [788 kB]
                            Get:28 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 linux-image-4.4.0-83-generic amd64 4.4.0-83.106 [21.9 MB]
                            Get:29 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 linux-virtual amd64 4.4.0.83.89 [1778 B]
                            Get:30 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 linux-image-virtual amd64 4.4.0.83.89 [2276 B]
                            Get:31 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 linux-headers-virtual amd64 4.4.0.83.89 [1758 B]
                            Get:32 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 linux-headers-generic amd64 4.4.0.83.89 [2260 B]
                            Get:33 http://mirrors.digitalocean.com/ubuntu xenial-updates/main amd64 grub-legacy-ec2 all 0.7.9-153-g16a7302f-0ubuntu1~16.04.2 [26.3 kB]
                            Fetched 42.5 MB in 1s (32.3 MB/s)      
                            Extracting templates from packages: 100%
                            Preconfiguring packages ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../bsdutils_1%3a2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking bsdutils (1:2.27.1-6ubuntu3.3) over (1:2.27.1-6ubuntu3.2) ...
                            Processing triggers for man-db (2.7.5-1) ...
                            Setting up bsdutils (1:2.27.1-6ubuntu3.3) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../util-linux_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking util-linux (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Processing triggers for man-db (2.7.5-1) ...
                            Processing triggers for mime-support (3.59ubuntu1) ...
                            Processing triggers for ureadahead (0.100.0-19) ...
                            Setting up util-linux (2.27.1-6ubuntu3.3) ...
                            Processing triggers for systemd (229-4ubuntu17) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../mount_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking mount (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Processing triggers for man-db (2.7.5-1) ...
                            Setting up mount (2.27.1-6ubuntu3.3) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../uuid-runtime_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking uuid-runtime (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Preparing to unpack .../liblxc1_2.0.8-0ubuntu1~16.04.2_amd64.deb ...
                            Unpacking liblxc1 (2.0.8-0ubuntu1~16.04.2) over (2.0.7-0ubuntu1~16.04.2) ...
                            Preparing to unpack .../lxc-common_2.0.8-0ubuntu1~16.04.2_amd64.deb ...
                            Unpacking lxc-common (2.0.8-0ubuntu1~16.04.2) over (2.0.7-0ubuntu1~16.04.2) ...
                            Preparing to unpack .../lxd_2.0.10-0ubuntu1~16.04.1_amd64.deb ...
                            Warning: Stopping lxd.service, but it can still be activated by:
                            lxd.socket
                            Unpacking lxd (2.0.10-0ubuntu1~16.04.1) over (2.0.9-0ubuntu1~16.04.2) ...
                            Warning: Stopping lxd.service, but it can still be activated by:
                            lxd.socket
                            Preparing to unpack .../lxd-client_2.0.10-0ubuntu1~16.04.1_amd64.deb ...
                            Unpacking lxd-client (2.0.10-0ubuntu1~16.04.1) over (2.0.9-0ubuntu1~16.04.2) ...
                            Preparing to unpack .../libuuid1_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking libuuid1:amd64 (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Processing triggers for man-db (2.7.5-1) ...
                            Processing triggers for systemd (229-4ubuntu17) ...
                            Processing triggers for ureadahead (0.100.0-19) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            Setting up libuuid1:amd64 (2.27.1-6ubuntu3.3) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../libblkid1_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking libblkid1:amd64 (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            Setting up libblkid1:amd64 (2.27.1-6ubuntu3.3) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../libfdisk1_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking libfdisk1:amd64 (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            Setting up libfdisk1:amd64 (2.27.1-6ubuntu3.3) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../libmount1_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking libmount1:amd64 (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            Setting up libmount1:amd64 (2.27.1-6ubuntu3.3) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../libsmartcols1_2.27.1-6ubuntu3.3_amd64.deb ...
                            Unpacking libsmartcols1:amd64 (2.27.1-6ubuntu3.3) over (2.27.1-6ubuntu3.2) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            Setting up libsmartcols1:amd64 (2.27.1-6ubuntu3.3) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            (Reading database ... 53887 files and directories currently installed.)
                            Preparing to unpack .../less_481-2.1ubuntu0.2_amd64.deb ...
                            Unpacking less (481-2.1ubuntu0.2) over (481-2.1ubuntu0.1) ...
                            Preparing to unpack .../libisc-export160_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking libisc-export160 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../libdns-export162_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking libdns-export162 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../bind9-host_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking bind9-host (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../dnsutils_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking dnsutils (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../libisc160_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking libisc160:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../libdns162_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking libdns162:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../libisccc140_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking libisccc140:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../libisccfg140_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking libisccfg140:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../liblwres141_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking liblwres141:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../libbind9-140_1%3a9.10.3.dfsg.P4-8ubuntu1.7_amd64.deb ...
                            Unpacking libbind9-140:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) over (1:9.10.3.dfsg.P4-8ubuntu1.6) ...
                            Preparing to unpack .../btrfs-tools_4.4-1ubuntu1_amd64.deb ...
                            Unpacking btrfs-tools (4.4-1ubuntu1) over (4.4-1) ...
                            Selecting previously unselected package linux-headers-4.4.0-83.
                            Preparing to unpack .../linux-headers-4.4.0-83_4.4.0-83.106_all.deb ...
                            Unpacking linux-headers-4.4.0-83 (4.4.0-83.106) ...
                            Selecting previously unselected package linux-headers-4.4.0-83-generic.
                            Preparing to unpack .../linux-headers-4.4.0-83-generic_4.4.0-83.106_amd64.deb ...
                            Unpacking linux-headers-4.4.0-83-generic (4.4.0-83.106) ...
                            Selecting previously unselected package linux-image-4.4.0-83-generic.
                            Preparing to unpack .../linux-image-4.4.0-83-generic_4.4.0-83.106_amd64.deb ...
                            locale: Cannot set LC_ALL to default locale: No such file or directory
                            Done.
                            Unpacking linux-image-4.4.0-83-generic (4.4.0-83.106) ...
                            Preparing to unpack .../linux-virtual_4.4.0.83.89_amd64.deb ...
                            Unpacking linux-virtual (4.4.0.83.89) over (4.4.0.81.87) ...
                            Preparing to unpack .../linux-image-virtual_4.4.0.83.89_amd64.deb ...
                            Unpacking linux-image-virtual (4.4.0.83.89) over (4.4.0.81.87) ...
                            Preparing to unpack .../linux-headers-virtual_4.4.0.83.89_amd64.deb ...
                            Unpacking linux-headers-virtual (4.4.0.83.89) over (4.4.0.81.87) ...
                            Preparing to unpack .../linux-headers-generic_4.4.0.83.89_amd64.deb ...
                            Unpacking linux-headers-generic (4.4.0.83.89) over (4.4.0.81.87) ...
                            Preparing to unpack .../grub-legacy-ec2_0.7.9-153-g16a7302f-0ubuntu1~16.04.2_all.deb ...
                            Leaving 'diversion of /usr/sbin/grub-set-default to /usr/sbin/grub-set-default.real by grub-legacy-ec2'
                            Unpacking grub-legacy-ec2 (0.7.9-153-g16a7302f-0ubuntu1~16.04.2) over (0.7.9-113-g513e99e0-0ubuntu1~16.04.1) ...
                            Processing triggers for man-db (2.7.5-1) ...
                            Processing triggers for mime-support (3.59ubuntu1) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            Setting up uuid-runtime (2.27.1-6ubuntu3.3) ...
                            Setting up lxd-client (2.0.10-0ubuntu1~16.04.1) ...
                            Setting up less (481-2.1ubuntu0.2) ...
                            locale: Cannot set LC_ALL to default locale: No such file or directory
                            Setting up libisc-export160 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up libdns-export162 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up libisc160:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up libdns162:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up libisccc140:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up libisccfg140:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up libbind9-140:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up liblwres141:amd64 (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up bind9-host (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up dnsutils (1:9.10.3.dfsg.P4-8ubuntu1.7) ...
                            Setting up btrfs-tools (4.4-1ubuntu1) ...
                            update-initramfs: deferring update (trigger activated)
                            Setting up linux-headers-4.4.0-83 (4.4.0-83.106) ...
                            Setting up linux-headers-4.4.0-83-generic (4.4.0-83.106) ...
                            Setting up linux-image-4.4.0-83-generic (4.4.0-83.106) ...
                            Running depmod.
                            update-initramfs: deferring update (hook will be called later)
                            Examining /etc/kernel/postinst.d.
                            run-parts: executing /etc/kernel/postinst.d/apt-auto-removal 4.4.0-83-generic /boot/vmlinuz-4.4.0-83-generic
                            run-parts: executing /etc/kernel/postinst.d/initramfs-tools 4.4.0-83-generic /boot/vmlinuz-4.4.0-83-generic
                            update-initramfs: Generating /boot/initrd.img-4.4.0-83-generic
                            W: mdadm: /etc/mdadm/mdadm.conf defines no arrays.
                            run-parts: executing /etc/kernel/postinst.d/unattended-upgrades 4.4.0-83-generic /boot/vmlinuz-4.4.0-83-generic
                            run-parts: executing /etc/kernel/postinst.d/update-notifier 4.4.0-83-generic /boot/vmlinuz-4.4.0-83-generic
                            run-parts: executing /etc/kernel/postinst.d/zz-update-grub 4.4.0-83-generic /boot/vmlinuz-4.4.0-83-generic
                            Generating grub configuration file ...
                            Found linux image: /boot/vmlinuz-4.4.0-83-generic
                            Found initrd image: /boot/initrd.img-4.4.0-83-generic
                            Found linux image: /boot/vmlinuz-4.4.0-81-generic
                            Found initrd image: /boot/initrd.img-4.4.0-81-generic
                            done
                            Setting up linux-image-virtual (4.4.0.83.89) ...
                            Setting up linux-headers-generic (4.4.0.83.89) ...
                            Setting up linux-headers-virtual (4.4.0.83.89) ...
                            Setting up linux-virtual (4.4.0.83.89) ...
                            Setting up grub-legacy-ec2 (0.7.9-153-g16a7302f-0ubuntu1~16.04.2) ...
                            locale: Cannot set LC_ALL to default locale: No such file or directory
                            Searching for GRUB installation directory ... found: /boot/grub
                            Searching for default file ... found: /boot/grub/default
                            Testing for an existing GRUB menu.lst file ... found: /boot/grub/menu.lst
                            Searching for splash image ... none found, skipping ...
                            Found kernel: /boot/vmlinuz-4.4.0-81-generic
                            Found kernel: /boot/vmlinuz-4.4.0-83-generic
                            Found kernel: /boot/vmlinuz-4.4.0-81-generic
                            Replacing config file /run/grub/menu.lst with new version
                            Updating /boot/grub/menu.lst ... done

                            Setting up liblxc1 (2.0.8-0ubuntu1~16.04.2) ...
                            Setting up lxc-common (2.0.8-0ubuntu1~16.04.2) ...
                            Setting up lxd (2.0.10-0ubuntu1~16.04.1) ...
                            Processing triggers for libc-bin (2.23-0ubuntu9) ...
                            Processing triggers for initramfs-tools (0.122ubuntu8.8) ...
                            update-initramfs: Generating /boot/initrd.img-4.4.0-83-generic
                            W: mdadm: /etc/mdadm/mdadm.conf defines no arrays.
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-5">
                        <h3>3. Opprett en bruker</h3>

                        <p data-markdown>
                            <script type="text/template">
                            ```
                            root@vodka:~# adduser kotlarz
                            ```
                            </script>
                        </p>

                        <p style="font-size: 20px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Adding user `kotlarz' ...
                            Adding new group `kotlarz' (1000) ...
                            Adding new user `kotlarz' (1000) with group `kotlarz' ...
                            Creating home directory `/home/kotlarz' ...
                            Copying files from `/etc/skel' ...
                            Enter new UNIX password: 
                            Retype new UNIX password: 
                            passwd: password updated successfully
                            Changing the user information for kotlarz
                            Enter the new value, or press ENTER for the default
                                Full Name []: 
                                Room Number []: 
                                Work Phone []: 
                                Home Phone []: 
                                Other []: 
                            Is the information correct? [Y/n] Y
                            ```
                            </script>
                        </p>

                        <h3 class="fragment">4. Legg til brukeren i sudoers</h3>

                        <p data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            root@vodka:~# adduser kotlarz sudo
                            ```
                            </script>
                        </p>

                        <p data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Adding user `kotlarz' to group `sudo' ...
                            Adding user kotlarz to group sudo
                            Done.
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-6">
                        <p>Bytt bruker og legg til SSH nøkkelen din</p>

                        <p style="font-size: 30px;" data-markdown>
                            <script type="text/template">
                            ```
                            root@vodka:~# su kotlarz
                            kotlarz@vodka:~# mkdir ~/.ssh
                            kotlarz@vodka:~# echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCkGFXTOpSf7EkYqmcdpMZcbLBXWRh9awiemg68vzaYD7RmZOoUrGgntimthi9e6h70eHaUqajyky/dtyhIuXzuoQMqa+8ad7MY7s1mm3M9BJPNfin3WYOmO+k+QDzBsN0/fnKtOFvaOoJEzoxM8WY5xIEnowVptmb6cxdvDa77I63yvSOe+/eK3h3tqn1WBbLIJEvxqmWOzrscRiIkG5ljeULhscmLHA4HVgXX0Gl1c6ywzX2tHL2WlRFRJ3awCrEUQQ02NzLVSRwpSE8/GLXpGU0NtYOdp0B3OInF6lARq/lDCRtVb/EC5WIRe3mrD5g7ewJaqJJ6BepCqO25OCRWEBUEwssI6su+u9NveJ7FLluZxVMKIq7Jq6BX2Kut1I0dpaKBAiPk1cF9hncxoVHR6o90ovp+AReEoPxTDX0PhqQ/YrDcBVc12n45QJMspXbZr7KEMGtQ9RUMufpW/7CWl7oGjma7NoR/B1zvacha1tlNAeQDMHIzJKMxSlrD/+S35b9I3ZvZCbq3jc+Fhi5WyvmsgCqr38jMKMoLjNSgFV3pdlOxF03CxqAGRYgl2mhfhQUSGTMdYETgfqyU8PYoNp2vJWD9tSM5hfyykz9EIf7TOcM6fKAAvjQJeHNl7F/g/KdhFFgTN80pbTLU0BhGWAAelhfsWsGx6Z4hett6TQ== marius.kotlarz@gmail.com" >> ~/.ssh/authorized_keys
                            ```
                            </script>
                        </p>

                        <p>Pass på å sette riktig rettigheter!</p>
                        <p style="font-size: 30px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# chmod 0700 ~/.ssh/
                            kotlarz@vodka:~# chmod 0600 ~/.ssh/authorized_keys
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-7">
                        <p>Rediger SSH configen på din egen maskin</p>

                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~# nano ~/.ssh/config
                            ```
                            </script>
                        </p>

                        <p style="font-size: 25px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Host st17_vodka
                                Hostname vodka.st17.live
                                User kotlarz
                                IdentityFile ~/.ssh/id_rsa 
                                LocalForward 9000 127.0.0.1:80
                            ```
                            </script>
                        </p>

                        <p class="fragment">Test om du får logget inn</p>
                        
                        <p data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~# ssh st17_vodka
                            ```
                            </script>
                        </p>

                        <p style="font-size: 20px;" data-markdown class="fragment">
                            <script type="text/template">
                            ```
                            Welcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-81-generic x86_64)

                            * Documentation:  https://help.ubuntu.com
                            * Management:     https://landscape.canonical.com
                            * Support:        https://ubuntu.com/advantage

                            Get cloud support with Ubuntu Advantage Cloud Guest:
                                http://www.ubuntu.com/business/services/cloud

                            0 packages can be updated.
                            0 updates are security updates.


                            *** System restart required ***

                            The programs included with the Ubuntu system are free software;
                            the exact distribution terms for each program are described in the
                            individual files in /usr/share/doc/*/copyright.

                            Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
                            applicable law.

                            kotlarz@vodka:~
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-8">
                        <h4>5. Slå av SSH root og passord pålogging</h4>

                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo vi /etc/ssh/sshd_config
                            ```
                            </script>
                        </p>

                        <p data-markdown>
                            <script type="text/template">
                            ```
                            ---snip---
                            PermitRootLogin no
                            PasswordAuthentication no
                            ---snip---
                            ```
                            </script>
                        </p>

                        <p>Restart SSH tjenesten</p>
                        <p style="font-size: 30px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo systemctl restart ssh
                            ```
                            </script>
                        </p>
                        <aside class="notes">
                            <p>Får nå IKKE logget inn med root</p>
                            <p>Kan bytte port også, til f.eks. 1337</p>
                        </aside>
                    </section>

                    <section id="linux-server-konfigurasjon-9">
                        <h3>6. Sette opp brannmur - 1/4</h3>
                        <p>UFW - Uncomplicated Firewall</p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo apt install ufw
                            ```
                            </script>
                        </p>
                        
                        <p>Slå på IPv6</p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo vi /etc/default/ufw
                            ```
                            </script>
                        </p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            IPV6=yes
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-10">
                        <h3>6. Sette opp brannmur - 2/4</h3>
                        <p>Sette opp regler</p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo ufw default deny incoming
                            kotlarz@vodka:~# sudo ufw default allow outgoing
                            kotlarz@vodka:~# sudo ufw allow 22/tcp
                            kotlarz@vodka:~# sudo ufw allow 80/tcp 
                            kotlarz@vodka:~# sudo ufw allow 443/tcp
                            ```
                            </script>
                        </p>
                        
                        <ph4>Slå på UFW</p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# ufw enable
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            Command may disrupt existing ssh connections. Proceed with operation (y|n)? y
                            Firewall is active and enabled on system startup
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-11">
                        <h3>6. Sette opp brannmur - 3/4</h3>
                        <p>Vis status</p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo ufw status verbose
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            Status: active
                            Logging: on (low)
                            Default: deny (incoming), allow (outgoing), disabled (routed)
                            New profiles: skip

                            To                         Action      From
                            --                         ------      ----
                            22/tcp                     ALLOW IN    Anywhere                  
                            80/tcp                     ALLOW IN    Anywhere                  
                            443/tcp                    ALLOW IN    Anywhere                  
                            22/tcp (v6)                ALLOW IN    Anywhere (v6)             
                            80/tcp (v6)                ALLOW IN    Anywhere (v6)             
                            443/tcp (v6)               ALLOW IN    Anywhere (v6) 
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="linux-server-konfigurasjon-12">
                        <h3>6. Sette opp brannmur - 4/4</h3>
                        <p>Vis IPTables regler</p>
                        <p style="font-size: 19px;" data-markdown>
                            <script type="text/template">
                            ```
                            Chain INPUT (policy DROP)
                            target     prot opt source               destination         
                            ufw-before-logging-input  all  --  anywhere             anywhere            
                            ufw-before-input  all  --  anywhere             anywhere            
                            ufw-after-input  all  --  anywhere             anywhere            
                            ufw-after-logging-input  all  --  anywhere             anywhere            
                            ufw-reject-input  all  --  anywhere             anywhere            
                            ufw-track-input  all  --  anywhere             anywhere            

                            Chain FORWARD (policy DROP)
                            target     prot opt source               destination         
                            ufw-before-logging-forward  all  --  anywhere             anywhere            
                            ufw-before-forward  all  --  anywhere             anywhere            
                            ufw-after-forward  all  --  anywhere             anywhere            
                            ufw-after-logging-forward  all  --  anywhere             anywhere            
                            ufw-reject-forward  all  --  anywhere             anywhere            
                            ufw-track-forward  all  --  anywhere             anywhere            

                            Chain OUTPUT (policy ACCEPT)
                            target     prot opt source               destination         
                            ufw-before-logging-output  all  --  anywhere             anywhere            
                            ufw-before-output  all  --  anywhere             anywhere            
                            ufw-after-output  all  --  anywhere             anywhere            
                            ufw-after-logging-output  all  --  anywhere             anywhere            
                            ufw-reject-output  all  --  anywhere             anywhere            
                            ufw-track-output  all  --  anywhere             anywhere            

                            Chain ufw-after-forward (1 references)
                            target     prot opt source               destination         

                            Chain ufw-after-input (1 references)
                            target     prot opt source               destination         
                            ufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:netbios-ns
                            ufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:netbios-dgm
                            ufw-skip-to-policy-input  tcp  --  anywhere             anywhere             tcp dpt:netbios-ssn
                            ufw-skip-to-policy-input  tcp  --  anywhere             anywhere             tcp dpt:microsoft-ds
                            ufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:bootps
                            ufw-skip-to-policy-input  udp  --  anywhere             anywhere             udp dpt:bootpc
                            ufw-skip-to-policy-input  all  --  anywhere             anywhere             ADDRTYPE match dst-type BROADCAST

                            Chain ufw-after-logging-forward (1 references)
                            target     prot opt source               destination         
                            LOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix "[UFW BLOCK] "

                            Chain ufw-after-logging-input (1 references)
                            target     prot opt source               destination         
                            LOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix "[UFW BLOCK] "

                            Chain ufw-after-logging-output (1 references)
                            target     prot opt source               destination         

                            Chain ufw-after-output (1 references)
                            target     prot opt source               destination         

                            Chain ufw-before-forward (1 references)
                            target     prot opt source               destination         
                            ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED
                            ACCEPT     icmp --  anywhere             anywhere             icmp destination-unreachable
                            ACCEPT     icmp --  anywhere             anywhere             icmp source-quench
                            ACCEPT     icmp --  anywhere             anywhere             icmp time-exceeded
                            ACCEPT     icmp --  anywhere             anywhere             icmp parameter-problem
                            ACCEPT     icmp --  anywhere             anywhere             icmp echo-request
                            ufw-user-forward  all  --  anywhere             anywhere            

                            Chain ufw-before-input (1 references)
                            target     prot opt source               destination         
                            ACCEPT     all  --  anywhere             anywhere            
                            ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED
                            ufw-logging-deny  all  --  anywhere             anywhere             ctstate INVALID
                            DROP       all  --  anywhere             anywhere             ctstate INVALID
                            ACCEPT     icmp --  anywhere             anywhere             icmp destination-unreachable
                            ACCEPT     icmp --  anywhere             anywhere             icmp source-quench
                            ACCEPT     icmp --  anywhere             anywhere             icmp time-exceeded
                            ACCEPT     icmp --  anywhere             anywhere             icmp parameter-problem
                            ACCEPT     icmp --  anywhere             anywhere             icmp echo-request
                            ACCEPT     udp  --  anywhere             anywhere             udp spt:bootps dpt:bootpc
                            ufw-not-local  all  --  anywhere             anywhere            
                            ACCEPT     udp  --  anywhere             224.0.0.251          udp dpt:mdns
                            ACCEPT     udp  --  anywhere             239.255.255.250      udp dpt:1900
                            ufw-user-input  all  --  anywhere             anywhere            

                            Chain ufw-before-logging-forward (1 references)
                            target     prot opt source               destination         

                            Chain ufw-before-logging-input (1 references)
                            target     prot opt source               destination         

                            Chain ufw-before-logging-output (1 references)
                            target     prot opt source               destination         

                            Chain ufw-before-output (1 references)
                            target     prot opt source               destination         
                            ACCEPT     all  --  anywhere             anywhere            
                            ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED
                            ufw-user-output  all  --  anywhere             anywhere            

                            Chain ufw-logging-allow (0 references)
                            target     prot opt source               destination         
                            LOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix "[UFW ALLOW] "

                            Chain ufw-logging-deny (2 references)
                            target     prot opt source               destination         
                            RETURN     all  --  anywhere             anywhere             ctstate INVALID limit: avg 3/min burst 10
                            LOG        all  --  anywhere             anywhere             limit: avg 3/min burst 10 LOG level warning prefix "[UFW BLOCK] "

                            Chain ufw-not-local (1 references)
                            target     prot opt source               destination         
                            RETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type LOCAL
                            RETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type MULTICAST
                            RETURN     all  --  anywhere             anywhere             ADDRTYPE match dst-type BROADCAST
                            ufw-logging-deny  all  --  anywhere             anywhere             limit: avg 3/min burst 10
                            DROP       all  --  anywhere             anywhere            

                            Chain ufw-reject-forward (1 references)
                            target     prot opt source               destination         

                            Chain ufw-reject-input (1 references)
                            target     prot opt source               destination         

                            Chain ufw-reject-output (1 references)
                            target     prot opt source               destination         

                            Chain ufw-skip-to-policy-forward (0 references)
                            target     prot opt source               destination         
                            DROP       all  --  anywhere             anywhere            

                            Chain ufw-skip-to-policy-input (7 references)
                            target     prot opt source               destination         
                            DROP       all  --  anywhere             anywhere            

                            Chain ufw-skip-to-policy-output (0 references)
                            target     prot opt source               destination         
                            ACCEPT     all  --  anywhere             anywhere            

                            Chain ufw-track-forward (1 references)
                            target     prot opt source               destination         

                            Chain ufw-track-input (1 references)
                            target     prot opt source               destination         

                            Chain ufw-track-output (1 references)
                            target     prot opt source               destination         
                            ACCEPT     tcp  --  anywhere             anywhere             ctstate NEW
                            ACCEPT     udp  --  anywhere             anywhere             ctstate NEW

                            Chain ufw-user-forward (1 references)
                            target     prot opt source               destination         

                            Chain ufw-user-input (1 references)
                            target     prot opt source               destination         
                            ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:ssh
                            ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:http
                            ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:https

                            Chain ufw-user-limit (0 references)
                            target     prot opt source               destination         
                            LOG        all  --  anywhere             anywhere             limit: avg 3/min burst 5 LOG level warning prefix "[UFW LIMIT BLOCK] "
                            REJECT     all  --  anywhere             anywhere             reject-with icmp-port-unreachable

                            Chain ufw-user-limit-accept (0 references)
                            target     prot opt source               destination         
                            ACCEPT     all  --  anywhere             anywhere            

                            Chain ufw-user-logging-forward (0 references)
                            target     prot opt source               destination         

                            Chain ufw-user-logging-input (0 references)
                            target     prot opt source               destination         

                            Chain ufw-user-logging-output (0 references)
                            target     prot opt source               destination         

                            Chain ufw-user-output (1 references)
                            target     prot opt source               destination 
                            ```
                            </script>
                        </p>
                    </section>
                </section>

                <section>
                    <section id="nginx-konfigurasjon-1">
                        <h3>Konfigurasjon av NGINX (10 min)</h3>
                        <p><img style="width: 60%;" src="assets/nginx.png"/></p>
                        <ol>
                            <li>Installer pakker</li>
                            <li>Konfigurer/Optimaliser nginx</li>
                            <li>Lag en server block for vårt domene</li>
                            <li>Les NGINX logger</li>
                        </ol>
                        <aside class="notes">
                            <p>Alternativer: Apache, lighttpd</p>
                        </aside>
                    </section>

                    <section id="nginx-konfigurasjon-2">
                        <h3>1. Installer pakker</h3>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo apt install nginx
                            ```
                            </script>
                        </p>
                        <p>Sjekk om NGINX kjører</p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# curl -4 http://178.62.214.114
                            ```
                            </script>
                        </p>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            <!DOCTYPE html>
                            <html>
                            <head>
                            <title>Welcome to nginx!</title>
                            <style>
                                body {
                                    width: 35em;
                                    margin: 0 auto;
                                    font-family: Tahoma, Verdana, Arial, sans-serif;
                                }
                            </style>
                            </head>
                            <body>
                            <h1>Welcome to nginx!</h1>
                            <p>If you see this page, the nginx web server is successfully installed and
                            working. Further configuration is required.</p>

                            <p>For online documentation and support please refer to
                            <a href="http://nginx.org/">nginx.org</a>.<br/>
                            Commercial support is available at
                            <a href="http://nginx.com/">nginx.com</a>.</p>

                            <p><em>Thank you for using nginx.</em></p>
                            </body>
                            </html>
                            ```
                            </script>
                        </p>
                        <aside class="notes">
                            <p>Siden vi skal bare serve statiske filer, installerer vi ikke here LEMP-stacken</p>
                            <p>Vi har allerede lagt til brannmur regler for port 80 og 443</p>
                        </aside>
                    </section>

                    <section id="nginx-konfigurasjon-3">
                        <h3>2. Konfigurer/Optimaliser nginx</h3>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo vi /etc/nginx/nginx.conf
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            # ---snip---
                            # Best å basere dette på antall tråder i serveren, "auto" fikser dette.
                            worker_processes auto;
                            # Kan sjekkes med: "ulimit -n", antall klienter per sekund
                            worker_connections 1024;
                            # Skjul NGINX versjonen i HTTP header
                            server_tokens off;
                            # ---snip---
                            ```
                            </script>
                        </p>
                        <aside class="notes">
                            <p>Burde optimaliseres mer, men vår server har bare 1 kjerne, så ikke altfor viktig</p>
                        </aside>
                    </section>

                    <section id="nginx-konfigurasjon-4">
                        <p>Endre default server block til å bare høre på localhost</p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo nano /etc/nginx/sites-enabled/default
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            # ---snip---
                            listen 127.0.0.1:80 default_server;
                            listen [::1]:80 default_server;
                            # ---snip---
                            ```
                            </script>
                        </p>

                        <p>Reload konfigurasjonen</p>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo systemctl reload nginx
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="nginx-konfigurasjon-5">
                        <h4>3. Lag en server block for vårt domene 1/4</h4>
                        <p>Mappestruktur</p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            # Opprett en "sites" mappe under /var/www/html/:
                            /var/www/html/sites

                            # Hvert domene har sin egen mappe (i.e. st17.live)
                            /var/www/html/sites/domene/
                            /var/www/html/sites/st17.live/

                            # Hvert sub-domene har sin egen mappe (i.e. www)
                            /var/www/html/sites/domene/sub-domene/
                            /var/www/html/sites/st17.live/www/

                            # Offentlige filer ligger under en egen mappe (i.e. public)
                            /var/www/html/sites/domene/sub-domene/public/
                            /var/www/html/sites/st17.live/www/public/

                            # Private/prosjekt-spesefikke filer ligger under en egen mappe (i.e. private)
                            /var/www/html/sites/domene/sub-domene/private/
                            /var/www/html/sites/st17.live/www/private/
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="nginx-konfigurasjon-6">
                        <h4>3. Lag en server block for vårt domene 2/4</h4>
                        <p>Lag en mappe for våre offentlige filer</p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo mkdir -p /var/www/html/sites/st17.live/www/public/
                            ```
                            </script>
                        </p>
                        <p>Last opp filene (via. scp/rsync) og sjekk at de ligger der</p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~# scp -rp ~/st17_nettside/* st17_vodka:/var/www/html/sites/st17.live/www/public/
                            kotlarz@vodka:~# sudo ls -al /var/www/html/sites/st17.live/www/public/
                            ```
                            </script>
                        </p>
                        <p style="font-size: 30px;" data-markdown>
                            <script type="text/template">
                            ```
                            total 12
                            drwxr-xr-x 2 root root 4096 Jul  2 16:09 .
                            drwxr-xr-x 3 root root 4096 Jul  2 16:09 ..
                            drwxr-xr-x 2 root root 4096 Jul  2 16:25 bare_lokal
                            drwxr-xr-x 2 root root 4096 Jul  2 16:25 hemmelig_bilder
                            -rw-r--r-- 1 root root   20 Jul  2 16:09 index.html
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="nginx-konfigurasjon-7">
                        <h4>3. Lag en server block for vårt domene 3/4</h4>
                        <p>Lag en server block for vårt domene</p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo vi /etc/nginx/sites-available/www.st17.live
                            ```
                            </script>
                        </p>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            server {
                                listen 80;
                                listen [::]:80;

                                root /var/www/html/sites/st17.live/www/public;

                                index index.html index.htm;

                                server_name st17.live www.st17.live;

                                location / {
                                    # First attempt to serve request as file, then
                                    # as directory, then fall back to displaying a 404.
                                    try_files $uri $uri/ =404;
                                }

                                location /hemmelig_bilder {
                                    autoindex off;
                                }

                                location /bare_lokal {
                                    allow 127.0.0.1;
                                    deny all;
                                }
                            }
                            ```
                            </script>
                        </p>

                        <p>Aktiver server blokken (lager en symlink)</p>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo ln -s /etc/nginx/sites-available/www.st17.live /etc/nginx/sites-enabled/www.st17.live
                            ```
                            </script>
                        </p>
                        <aside class="notes">
                            <p>Venter med SSL til Let's Encrypt</p>
                        </aside>
                    </section>

                    <section id="nginx-konfigurasjon-8">
                        <h4>3. Lag en server block for vårt domene 4/4</h4>
                        <p>Sjekk at konfigen ikke har noen feil</p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~# sudo nginx -t
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
                            nginx: configuration file /etc/nginx/nginx.conf test is successful
                            ```
                            </script>
                        </p>
                        
                        <p>Reload NGINX og sjekk at den kjører</p>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~$ sudo systemctl reload nginx
                            kotlarz@vodka:~$ sudo systemctl status nginx
                            ```
                            </script>
                        </p>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            ● nginx.service - A high performance web server and a reverse proxy server
                            Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
                            Active: active (running) since Sun 2017-07-02 15:36:44 UTC; 55min ago
                            Process: 25370 ExecReload=/usr/sbin/nginx -g daemon on; master_process on; -s reload (code=exited, status=0/SUCCESS)
                            Main PID: 24798 (nginx)
                                Tasks: 2
                            Memory: 5.3M
                                CPU: 85ms
                            CGroup: /system.slice/nginx.service
                                    ├─24798 nginx: master process /usr/sbin/nginx -g daemon on; master_process on
                                    └─25374 nginx: worker process                           

                            Jul 02 15:36:44 vodka systemd[1]: Starting A high performance web server and a reverse proxy server...
                            Jul 02 15:36:44 vodka systemd[1]: nginx.service: Failed to read PID from file /run/nginx.pid: Invalid argument
                            Jul 02 15:36:44 vodka systemd[1]: Started A high performance web server and a reverse proxy server.
                            Jul 02 15:51:14 vodka systemd[1]: Reloading A high performance web server and a reverse proxy server.
                            Jul 02 15:51:14 vodka systemd[1]: Reloaded A high performance web server and a reverse proxy server.
                            Jul 02 16:32:21 vodka systemd[1]: Reloading A high performance web server and a reverse proxy server.
                            Jul 02 16:32:21 vodka systemd[1]: Reloaded A high performance web server and a reverse proxy server.
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="nginx-konfigurasjon-9">
                        <h4>Test nettsiden</h4>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            GET /var/www/html/sites/st17.live/www/public/index.html
                            ```
                            </script>
                        </p>
                        <p><img src="assets/nginx_1.png"/></p>
                    </section>

                    <section id="nginx-konfigurasjon-10">
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            GET /var/www/html/sites/st17.live/www/public/hemmelig_bilder
                            ```
                            </script>
                        </p>
                        <p><img style="width: 55%;" src="assets/nginx_2.png"/></p>

                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            GET /var/www/html/sites/st17.live/www/public/bare_lokal
                            ```
                            </script>
                        </p>
                        <p><img style="width: 55%;" src="assets/nginx_3.png"/></p>
                    </section>

                    <section id="nginx-konfigurasjon-10">
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            GET /var/www/html/sites/st17.live/www/public/hemmelig_bilder/IMG_20170629_214001.jpg
                            ```
                            </script>
                        </p>
                        <p><img style="width: 30%;" src="assets/nginx_4.png"/></p>

                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            GET /var/www/html/sites/st17.live/www/public/bare_lokal/IMG_20170629_215852.dng.jpg
                            ```
                            </script>
                        </p>
                        <p><img style="width: 55%;" src="assets/nginx_5.png"/></p>
                    </section>

                    <section id="nginx-konfigurasjon-12">
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            GET /var/www/html/sites/st17.live/www/public/bare_lokal/IMG_20170629_215852.dng.jpg
                            ```
                            </script>
                        </p>
                        <p><img src="assets/nginx_6.png"/></p>
                        <aside class="notes">
                            <p>Vi kjørte en LocalForward 127.0.0.1:80 -> :9000 i ssh configen</p>
                        </aside>
                    </section>
                </section>

                <section>
                    <section id="letsencrypt-konfigurasjon-1">
                        <h4>Konfigurasjon av Let's Encrypt (10 min)</h4>
                        <p><img style="width: 60%;" src="assets/lets_encrypt.png"/></p>
                        <ol>
                            <li>Slå av Cloudflare proxy</li>
                            <li>Installer pakker</li>
                            <li>Kjør Certbot</li>
                            <li>Endre Cloudflare konfigurasjon</li>
                        </ol>
                    </section>

                    <section id="letsencrypt-konfigurasjon-2">
                        <h3>1. Slå av Cloudflare Proxy</h3>
                        <p><img style="width: 80%;" src="assets/lets_encrypt_cloudflare_1.png"/></p>
                    </section>

                    <section id="letsencrypt-konfigurasjon-2">
                        <h3>2. Installer pakker</h3>
                        <p style="font-size: 30px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~$ sudo apt-get install software-properties-common
                            kotlarz@vodka:~$ sudo add-apt-repository ppa:certbot/certbot
                            kotlarz@vodka:~$ sudo apt-get update
                            kotlarz@vodka:~$ sudo apt-get install python-certbot-nginx 
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="letsencrypt-konfigurasjon-3">
                        <h3>2. Kjør Certbot - 1/2</h3>
                        <p><img style="width: 40%;" src="assets/certbot.svg"/></p>
                        <p style="font-size: 20px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@vodka:~$ sudo certbot --nginx
                            ```
                            </script>
                        </p>

                        <p style="font-size: 16px;" data-markdown>
                            <script type="text/template">
                            ```
                            Saving debug log to /var/log/letsencrypt/letsencrypt.log
                            Enter email address (used for urgent renewal and security notices) (Enter 'c' to
                            cancel):mko@capraconsulting.no

                            -------------------------------------------------------------------------------
                            Please read the Terms of Service at
                            https://letsencrypt.org/documents/LE-SA-v1.1.1-August-1-2016.pdf. You must agree
                            in order to register with the ACME server at
                            https://acme-v01.api.letsencrypt.org/directory
                            -------------------------------------------------------------------------------
                            (A)gree/(C)ancel: A

                            -------------------------------------------------------------------------------
                            Would you be willing to share your email address with the Electronic Frontier
                            Foundation, a founding partner of the Let's Encrypt project and the non-profit
                            organization that develops Certbot? We'd like to send you email about EFF and
                            our work to encrypt the web, protect its users and defend digital rights.
                            -------------------------------------------------------------------------------
                            (Y)es/(N)o: N
                            ```
                            </script>
                        </p>

                        <p style="font-size: 16px;" data-markdown>
                            <script type="text/template">
                            ```
                            Which names would you like to activate HTTPS for?
                            -------------------------------------------------------------------------------
                            1: st17.live
                            2: www.st17.live
                            -------------------------------------------------------------------------------
                            Select the appropriate numbers separated by commas and/or spaces, or leave input
                            blank to select all options shown (Enter 'c' to cancel):1,2
                            Obtaining a new certificate
                            Performing the following challenges:
                            tls-sni-01 challenge for st17.live
                            tls-sni-01 challenge for www.st17.live
                            Waiting for verification...
                            Cleaning up challenges
                            Deployed Certificate to VirtualHost /etc/nginx/sites-enabled/www.st17.live for set(['www.st17.live', 'st17.live'])
                            Deployed Certificate to VirtualHost /etc/nginx/sites-enabled/www.st17.live for set(['www.st17.live', 'st17.live'])
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="letsencrypt-konfigurasjon-4">
                        <h3>2. Kjør Certbot - 2/2</h3>
                        <p style="font-size: 16px;" data-markdown>
                            <script type="text/template">
                            ```
                            Please choose whether HTTPS access is required or optional.
                            -------------------------------------------------------------------------------
                            1: Easy - Allow both HTTP and HTTPS access to these sites
                            2: Secure - Make all requests redirect to secure HTTPS access
                            -------------------------------------------------------------------------------
                            Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2
                            Redirecting all traffic on port 80 to ssl in /etc/nginx/sites-enabled/www.st17.live
                            The appropriate server block is already redirecting traffic. To enable redirect anyway, uncomment the redirect lines in /etc/nginx/sites-enabled/www.st17.live.
                            ```
                            </script>
                        </p>

                        <p style="font-size: 16px;" data-markdown>
                            <script type="text/template">
                            ```
                            -------------------------------------------------------------------------------
                            Congratulations! You have successfully enabled https://st17.live and
                            https://www.st17.live

                            You should test your configuration at:
                            https://www.ssllabs.com/ssltest/analyze.html?d=st17.live
                            https://www.ssllabs.com/ssltest/analyze.html?d=www.st17.live
                            -------------------------------------------------------------------------------

                            IMPORTANT NOTES:
                            - Congratulations! Your certificate and chain have been saved at
                            /etc/letsencrypt/live/st17.live/fullchain.pem. Your cert will
                            expire on 2017-09-30. To obtain a new or tweaked version of this
                            certificate in the future, simply run certbot again with the
                            "certonly" option. To non-interactively renew *all* of your
                            certificates, run "certbot renew"
                            - If you like Certbot, please consider supporting our work by:

                            Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
                            Donating to EFF:                    https://eff.org/donate-le
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="letsencrypt-konfigurasjon-5">
                        <h4>Legg til en cronjob som auto-renewer sertifikater</h4>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            sudo crontab -e
                            ```
                            </script>
                        </p>
                        <p data-markdown>
                            <script type="text/template">
                            ```
                            # Run once per week
                            * 1 * * 1 certbot renew --no-self-upgrade --quiet
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="letsencrypt-konfigurasjon-6">
                        <h4>4. Endre Cloudflare konfigurasjon - 1/2</h4>
                        <p><img style="width: 80%;" src="assets/digitalocean_cloudflare_1.png"/></p>
                    </section>

                    <section id="letsencrypt-konfigurasjon-7">
                        <h4>Cloudflare SSL alternativer</h4>
                        <p><img src="assets/cfssl_off.png"/></p>
                        <p><img src="assets/cfssl_flexible.png"/></p>
                        <p><img src="assets/cfssl_full.png"/></p>
                        <p><img src="assets/cfssl_strict.png"/></p>
                    </section>

                    <section id="letsencrypt-konfigurasjon-8">
                        <h4>4. Endre Cloudflare konfigurasjon - 2/2</h4>
                        <p><img style="width: 80%;" src="assets/lets_encrypt_cloudflare_2.png"/></p>
                    </section>
                </section>

                <section>
                    <section id="github-konfigurasjon-1">
                        <h4>Hvordan bruke GitHub pages isteden (5 min)</h4>
                        <p><img style="width: 60%;" src="assets/github_pages.png"/></p>
                    </section>

                    <section id="github-konfigurasjon-2">
                        <h4>Opprett et eget repo</h4>
                        <p><img style="width: 80%;" src="assets/github_1.png"/></p>
                    </section>

                    <section id="github-konfigurasjon-3">
                        <h4>Konfigurer Github Pages</h4>
                        <p><img style="width: 75%;" src="assets/github_2.png"/></p>
                    </section>

                    <section id="github-konfigurasjon-4">
                        <h4>Sett opp Cloudflare CNAME-record</h4>
                        <p><img src="assets/github_cloudflare_1.png"/></p>
                    </section>

                    <section id="github-konfigurasjon-5">
                        <h4>Legg til filene dine og push</h4>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~/programming/personal$ git clone git@github.com:kotlarz/kotlarz.github.io.git
                            kotlarz@laptop:~/programming/personal$ cd kotlarz.github.io
                            kotlarz@laptop:~/programming/personal$ echo "Hello World on GitHub" > index.html
                            ```
                            </script>
                        </p>
                        <p style="font-size: 25px;" data-markdown>
                            <script type="text/template">
                            ```
                            kotlarz@laptop:~/programming/personal$ git add -A
                            kotlarz@laptop:~/programming/personal$ git commit -m "Initial commit"
                            kotlarz@laptop:~/programming/personal$ git push origin master
                            ```
                            </script>
                        </p>
                    </section>

                    <section id="github-konfigurasjon-6">
                        <h4>Voila!</h4>
                        <p><img style="width: 100%;" src="assets/github_3.png"/></p>
                    </section>
                </section>

				<section id="the-end" style="text-align: left;">
					<h1>THE END</h1>
					<p>
						- Takk for moi
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
